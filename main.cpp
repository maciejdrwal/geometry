#include <iostream>

#include "Geometry.h"

using namespace geometry;

int main()
{
    Line line;
    line.read_wkt(
        "LINESTRING(159 -4.83333,159.167 -4.83333,159.333 -4.83333,159.5 -4.83333,159.667 -4.83333,159.833 -4.83333,160 "
        "-4.83333,166.75 -10.5,166.875 -11.8,164.833 -13,163 -14,162.833 -14,162.667 -14,162.5 -14,162.333 -14,162.167 "
        "-14,162 -14,161.833 -14,161.667 -14,161.5 -14,161.25 -14,161.167 -14,161 -14,160.833 -14,160.667 -14,160.5 "
        "-14,160.333 -14,160.167 -14,160 -14,159.833 -14,159.667 -14,159.5 -14,159.333 -14,159.167 -14,159 -14,158.833 "
        "-14,158.667 -14,158.5 -14,158.333 -14,158.167 -14,158 -14,157.833 -14,157.667 -14,157.5 -14,157.333 "
        "-14,157.167 -14,157 -14,156.833 -14,156.667 -14,156.5 -14,156.333 -14,156.167 -14,156 -14,155.833 -14,155.667 "
        "-14,155.5 -14,155.333 -14,155.167 -14,155 -14,155 -12,155 -7.31667,155.635 -6.925,155.693 -6.925,155.922 "
        "-6.84667,156.038 -6.66333,156.035 -6.55,159 -4.83333)");
	
	std::cout << "Line: " << line.to_wkt() << '\n';

	const auto hull = convex_hull(line);
	std::cout << "Convex hull: " << hull.to_wkt() << '\n';

	const auto ls = fit_linestring(line, 0.2);
	std::cout << "Douglas-Peucker: " << ls.to_wkt() << '\n';

	return 0;
}
